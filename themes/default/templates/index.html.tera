<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ site_title | escape }}</title>
    {% if site_desc and site_desc != "" %}
    <meta name="description" content="{{ site_desc | escape }}">
    {% endif %}
    <meta name="generator" content="dove">
    <meta name="robots" content="{{ meta_robots | default(value="index,follow") }}">
    {% if canonical_url %}<link rel="canonical" href="{{ canonical_url }}">{% endif %}
    <meta property="og:type" content="website">
    <meta property="og:title" content="{{ site_title | escape }}">
    {% if site_desc and site_desc != "" %}<meta property="og:description" content="{{ site_desc | escape }}">{% endif %}
    {% if canonical_url %}<meta property="og:url" content="{{ canonical_url }}">{% endif %}
    <meta property="og:site_name" content="{{ site_title | escape }}">
    {% if og_image %}<meta property="og:image" content="{{ og_image }}">{% endif %}
    <link rel="icon" href="assets/favicon-f.svg" type="image/svg+xml">
    <link rel="stylesheet" href="assets/styles.css">
    <meta name="theme-color" content="#f45d22">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": {{ site_title | json_encode | safe }},
      {% if canonical_url %}
      "url": {{ canonical_url | json_encode | safe }},
      {% endif %}
      "potentialAction": {
        "@type": "SearchAction",
        "target": "?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
  </head>
  <body class="theme-{{ color_scheme }} layout-{{ layout }}">
    <div id="bgLayer" class="bg-layer" style="background-image: url('https://picsum.photos/1280/1264');" aria-hidden="true"></div>
    <div class="top-actions">
      {% if has_intranet %}
      <a class="top-link" id="toggleNet" href="{{ network_switch_href }}" title="ÂàáÊç¢ÂÜÖ/Â§ñÁΩë">{{ mode_other_label }}</a>
      {% endif %}
      <button id="toggleTheme" class="btn ghost" title="ÂàáÊç¢‰∏ªÈ¢ò">üåì</button>
      <button id="bgNext" class="btn ghost" title="ÂàáÊç¢ËÉåÊôØ">üñºÔ∏è</button>
      <select id="bgInterval" class="bg-select" title="Ëá™Âä®ÂàáÊç¢">
        <option value="0">‰∏çËá™Âä®</option>
        <option value="30">30Áßí</option>
        <option value="60">1ÂàÜÈíü</option>
        <option value="300">5ÂàÜÈíü</option>
      </select>
      <select id="bgBlur" class="bg-select" title="Ê®°Á≥äÂº∫Â∫¶">
        <option value="0">Êó†Ê®°Á≥ä</option>
        <option value="6">ËΩªÂ∫¶</option>
        <option value="12" selected>‰∏≠Á≠â</option>
        <option value="18">ËæÉÂº∫</option>
        <option value="24">ÂæàÂº∫</option>
      </select>
    </div>
    <header class="hero">
      <div class="hero-inner">
        <div class="hero-center">
          <div id="clock" class="clock">--:--</div>
          <a id="clock-date" class="clock-date" href="https://www.51wnl.com/webcalandar/index.html" target="_blank" rel="noopener"></a>
        </div>
        <div class="searchbox">
          <span class="sb-icon" aria-hidden="true">üîé</span>
          <input id="q" class="search sb-input" type="search" placeholder="ÊêúÁ¥¢Á´ôÁÇπ„ÄÅÂüüÂêç„ÄÅÊèèËø∞..." aria-label="ÊêúÁ¥¢">
          <div class="engine sb-engine">
            <button id="engineBtn" class="sb-engine-btn" aria-haspopup="listbox" aria-expanded="false"><span id="engineLabel">{{ engine_default }}</span> ‚ñæ</button>
            <ul id="engineMenu" class="engine-menu" role="listbox" hidden>
              {% for e in search_engines %}
              <li role="option" tabindex="0" data-name="{{ e.name }}" data-template="{{ e.template }}">
                {% if e.icon %}<img class="engine-icon" src="{{ e.icon | escape }}" alt="">{% endif %}
                <span class="engine-name">{{ e.name }}</span>
              </li>
              {% endfor %}
            </ul>
          </div>
          <button id="doSearch" class="sb-action" title="‰ΩøÁî®ÊâÄÈÄâÊêúÁ¥¢ÂºïÊìéÊêúÁ¥¢">‚Üµ</button>
        </div>
      </div>
    </header>

    <main class="container appwrap">
      {% if categories | length > 0 %}
      <aside class="sidebar" id="sidebar">
        <ul class="cats" id="cats">
          {% for c in categories %}
          <li class="cat-item" data-cat="{{ c }}" tabindex="0">{{ c }}</li>
          {% endfor %}
        </ul>
      </aside>
      {% endif %}
      <div class="content" id="content">
      {% for g in groups %}
      <section class="group display-{{ g.display }}" data-cat="{{ g.category }}" id="cat-{{ g.category | replace(from=" ", to="-") }}">
        <h2 class="group-title">{{ g.name | escape }}</h2>
        {% if g.display == "standard" %}
          <div class="grid">
            {% for l in g.links %}
            <a class="card tile" href="{{ l.href | escape }}" target="_blank" rel="noopener noreferrer" data-name="{{ l.name | escape }}" data-host="{{ l.host | escape }}" data-desc="{{ l.desc | escape }}">
              <div class="card-head">
                {% if l.icon %}
                <img class="icon" src="{{ l.icon | escape }}" alt="">
                {% endif %}
                <div class="card-content">
                  <div class="title">{{ l.name | escape }}</div>
                  {% if l.desc and l.desc != "" %}
                  <div class="desc">{{ l.desc | escape }}</div>
                  {% endif %}
                </div>
              </div>
            </a>
            {% endfor %}
          </div>
        {% elif g.display == "compact" %}
          <div class="grid compact">
            {% for l in g.links %}
            <a class="card tile compact" href="{{ l.href | escape }}" target="_blank" rel="noopener noreferrer" data-name="{{ l.name | escape }}" data-host="{{ l.host | escape }}">
              <div class="card-head compact">
                {% if l.icon %}
                <img class="icon" src="{{ l.icon | escape }}" alt="">
                {% else %}
                <img class="icon" src="assets/dove.PNG" alt="">
                {% endif %}
                <div class="title">{{ l.name | escape }}</div>
              </div>
            </a>
            {% endfor %}
          </div>
        {% elif g.display == "list" %}
          <ul class="list">
            {% for l in g.links %}
            <li class="list-item">
              <a href="{{ l.href | escape }}" target="_blank" rel="noopener noreferrer">
                {% if l.icon %}<img class="list-icon" src="{{ l.icon | escape }}" alt="">{% endif %}
                <div class="list-content">
                  <div class="list-title">{{ l.name | escape }}</div>
                  {% if l.desc and l.desc != "" %}<div class="list-desc">{{ l.desc | escape }}</div>{% endif %}
                </div>
              </a>
            </li>
            {% endfor %}
          </ul>
        {% elif g.display == "text" %}
          <div class="text-list">
            <div class="text-row">
            {% for l in g.links %}
              
              <a class="text-url" href="{{ l.href | escape }}" target="_blank" rel="noopener noreferrer"><span class="text-title">{{ l.name | escape }}</span></a>

            {% endfor %}
            </div>
          </div>
        {% else %}
          {# fallback to standard #}
          <div class="grid">
            {% for l in g.links %}
            <a class="card tile" href="{{ l.href | escape }}" target="_blank" rel="noopener noreferrer">
              <div class="card-head">
                {% if l.icon %}
                <img class="icon" src="{{ l.icon | escape }}" alt="">
                {% endif %}
                <div class="title">{{ l.name | escape }}</div>
              </div>
            </a>
            {% endfor %}
          </div>
        {% endif %}
      </section>
      {% endfor %}
      </div>
    </main>

    <footer class="site-footer">Made with ‚ù§ by <a href="https://github.com/dovenav/dove" target="_blank" rel="noopener">dove</a> ¬∑ <a href="sitemap.xml">Sitemap</a> ¬∑ <a href="robots.txt">Robots</a> ¬∑ v{{ build_version | escape }} ({{ build_time | escape }})</footer>
    <script src="assets/app.js"></script>
    <script>
      // Register service worker for offline support
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('assets/sw.js')
            .then(function(registration) {
              console.log('ServiceWorker registration successful with scope: ', registration.scope);
            })
            .catch(function(err) {
              console.log('ServiceWorker registration failed: ', err);
            });
        });
      }
    </script>
    {% if baidu_tongji_id is defined and baidu_tongji_id != "" %}
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?{{ baidu_tongji_id }}";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    {% endif %}

    {% if google_analytics_id is defined and google_analytics_id != "" %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ google_analytics_id }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '{{ google_analytics_id }}');
    </script>
    {% endif %}

  </body>
</html>
